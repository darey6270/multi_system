{% extends 'base.html' %}
{% load static %}
{% block title %} Display list of log users {% endblock %}

{% block image_block %}

<script>
    function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#blah')
                        .attr('src', e.target.result)
                        .width(400)
                        .height(400);
                };

                reader.readAsDataURL(input.files[0]);
            }
        }
</script>


<header class="info-header">
  <div id="page-intro" class="container-fluid d-flex align-items-center justify-content-center ">
    <div class="row d-flex justify-content-center text-center">
      <div class="col text-white">
        <!-- heading -->
        <div class="row d-flex justify-content-center text-center">
        </div>

        <!-- divider -->
        <hr style="color:#ff5722;">
  </div>
    </div>
  </div>
</header>
{% endblock %}
{%block content1 %}
<section id="best-features" class="text-center">
    <div class="row d-flex justify-content-center mt-3">

    </div>
              <h2 class="mb-5 mt-5 font-weight-bold" style="color:#ff5722;">Logs report</h2>
              <!-- class row for description-->
              <!-- class row2 for cards -->
              <div class="row d-flex justify-content-center mb-3">
                                    <div class="col-md-10">
                <div class="table-responsive-sm table-responsive-md table-responsive-xl table-responsive-lg table-responsive-xxl table-bordered border-primary">
                    <table class="table">
                              <tr>
                                <td>S/N</td>
                                <td> Firstname</td>
                                <td>Lastname</td>
                                <td>Username</td>
                                <td>Phone number</td>
                                <td>Email</td>
                                <td>Ip Address</td>
                                <td>Status</td>
                            </tr>
                {% for log in logs %}
                              <tr>
                                <td>{{ forloop.counter }}</td>

                                {% if log.user.first_name %}
                                <td>{{log.user.first_name}}</td>
                                {% endif %}
                                  {% if log.user.last_name %}
                                <td>{{log.user.last_name}}</td>
                                {% endif %}

                                 {% if log.user.username %}
                                <td>{{log.user.username}}</td>
                                {% endif %}
                                 {% if log.Phone_number %}
                                <td>{{log.Phone_number}}</td>
                                {% endif %}

                                {% if log.user.email %}
                                <td>{{log.user.email}}</td>
                                {% endif %}


                                {% if log.Ip_address %}
                                <td>{{log.Ip_address}}</td>
                                {% endif %}

                                {% if log.status == True %}
                                <td><a href="{% url 'activities:update_status' pk=log.pk log=log.user.id %}"><u>Blocked</u></a></td>
                                {% endif %}

                                 {% if log.status == False %}
                                  <td><a href="{% url 'activities:update_status' pk=log.pk log=log.user.id %}"><u>Unblocked</u></a> </td>
                                {% endif %}
                            </tr>


                  {% empty %}
                <p>No registered user informations</p>
                {% endfor %}
                    </table>
              </div>

</section>
{%endblock%}